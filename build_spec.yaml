version: 0.1
component: build
timeoutInSeconds: 600
shell: bash
 
steps:
  - type: Command
    name: Instalar Node.js 18
    command: |
      curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
      apt-get install -y nodejs
      node -v
      npm -v
 
  - type: Command
    name: Limpiar cach√© y preparar entorno
    command: |
      npm cache clean --force
      rm -rf node_modules package-lock.json
 
  - type: Command
    name: Instalar dependencias
    command: |
      npm install
      npm rebuild esbuild
 
  - type: Command
    name: Build Vite React App
    command: |
      npm run build
 
outputArtifacts:
  - name: ReactBuildOutput
    type: BINARY
    location: ./dist
